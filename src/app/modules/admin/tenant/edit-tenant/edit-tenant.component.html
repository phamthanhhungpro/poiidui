<div class="flex flex-col flex-auto h-full overflow-hidden bg-card dark:bg-default">

    <!-- Header -->
    <div class="flex flex-0 items-center justify-between h-18 -mb-px px-6 bg-gray-50 dark:bg-transparent">

        <div class="ml-2 text-2xl font-semibold">Sửa cơ quan</div>

        <div class="flex items-center">
            <!-- More menu -->
            <button mat-flat-button [color]="'primary'" (click)="save()" [disabled]="editTenantForm.invalid">
                Lưu
            </button>
            <button class="px-6 ml-3" mat-button (click)="cancelEdit()">
                Hủy
            </button>
        </div>

    </div>
    <mat-divider class="mb-4"></mat-divider>
    <div class="flex flex-col gt-xs:flex-row gt-xs:items-start p-6">
        <form [formGroup]="editTenantForm">
        <div class="flex-auto min-w-64">
            <div class="flex">
                <mat-form-field class="flex-auto">
                    <mat-label>Tên cơ quan</mat-label>
                    <input matInput [placeholder]="'Tên cơ quan'" [formControlName]="'name'">
                    <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                    <mat-error *ngIf="!editTenantForm.value.name">Tên cơ quan không được để trống</mat-error>
                </mat-form-field>
            </div>
            <div class="flex">
                <mat-form-field class="flex-auto">
                    <mat-label>Mã cơ quan</mat-label>
                    <input matInput [placeholder]="'Mã cơ quan'" [formControlName]="'code'">
                    <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_solid:code-bracket'"></mat-icon>
                </mat-form-field>
            </div>
            <div class="flex">
                <mat-form-field class="flex-auto">
                    <mat-label>Mô tả</mat-label>
                    <textarea matInput [placeholder]="'Mô tả về cơ quan'" [rows]="3" [formControlName]="'description'"></textarea>
                    <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_solid:bars-3-bottom-left'"></mat-icon>
                </mat-form-field>
            </div>
        </div>
        </form>
        <div class="flex">
            <div class="flex-auto">
                <mat-label class="font-medium">Chọn ứng dụng</mat-label>
                <section>
                    <span>
                      <mat-checkbox [checked]="allComplete"
                                    [color]="appCheckbox.color"
                                    [indeterminate]="someComplete()"
                                    (change)="setAll($event.checked)">
                        {{appCheckbox.name}}
                      </mat-checkbox>
                    </span>
                    <span>
                      <ul class="pl-4">
                        @for (subtask of appCheckbox.subtasks; track subtask) {
                          <li>
                            <mat-checkbox [(ngModel)]="subtask.completed"
                                          [color]="subtask.color"
                                          (ngModelChange)="updateAllComplete()">
                              {{subtask.name}}
                            </mat-checkbox>
                          </li>
                        }
                      </ul>
                    </span>
                  </section>
            </div>
        </div>
    </div>
</div>